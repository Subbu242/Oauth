!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("react"),require("react-lifecycles-compat"),require("final-form"),require("react-final-form")):"function"==typeof define&&define.amd?define(["exports","react","react-lifecycles-compat","final-form","react-final-form"],e):e(t["react-final-form-arrays"]={},t.React,t.ReactLifecyclesCompat,t.FinalForm,t.ReactFinalForm)}(this,function(t,p,e,s,r){"use strict";function a(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function d(){return(d=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t}).apply(this,arguments)}function m(t,e){if(null==t)return{};var r,i,n={},a=Object.keys(t);for(i=0;i<a.length;i++)r=a[i],0<=e.indexOf(r)||(n[r]=t[r]);return n}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var i="2.0.1",h={"final-form":s.version,"react-final-form":r.version,"react-final-form-arrays":i},u=s.fieldSubscriptionItems.reduce(function(t,e){return t[e]=!0,t},{}),n=function(r){var t,e;function i(t){var o,e;return a(c(c(o=r.call(this,t)||this)),"isEqual",function(t,e){return"function"!=typeof o.props.isEqual||o.props.isEqual(t,e)}),a(c(c(o)),"subscribe",function(t,e){var r=t.name,i=t.subscription;o.unsubscribe=o.props.reactFinalForm.registerField(r,e,i?d({},i,{length:!0}):u,{getValidator:function(){return o.validate},isEqual:o.isEqual})}),a(c(c(o)),"validate",function(){var t=o.props.validate;if(t){var e=t(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1]);if(!e||Array.isArray(e))return e;var r=[];return r[s.ARRAY_ERROR]=e,r}}),a(c(c(o)),"bindMutators",function(t){var n=t.name,e=o.props.reactFinalForm;if(e){var a=e.mutators;!!(a&&a.push&&a.pop)&&(o.mutators=Object.keys(a).reduce(function(t,i){return t[i]=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return a[i].apply(a,[n].concat(e))},t},{}))}}),a(c(c(o)),"notify",function(t){setTimeout(function(){o.mounted&&o.setState({state:t})})}),a(c(c(o)),"forEach",function(t){for(var e=o.props.name,r=o.state.state&&o.state.state.length||0,i=0;i<r;i++)t(e+"["+i+"]",i)}),a(c(c(o)),"map",function(t){for(var e=o.props.name,r=o.state.state&&o.state.state.length||0,i=[],n=0;n<r;n++)i.push(t(e+"["+n+"]",n));return i}),t.reactFinalForm&&o.subscribe(t,function(t){e?o.notify(t):e=t}),o.state={state:e},o.bindMutators(t),o.mounted=!1,o}e=r,(t=i).prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e;var n=i.prototype;return n.UNSAFE_componentWillReceiveProps=function(t){var e,r,i,n=t.name,a=t.subscription;(this.props.name!==n||(e=this.props.subscription,r=a,i=s.fieldSubscriptionItems,e?!r||i.some(function(t){return e[t]!==r[t]}):r))&&this.props.reactFinalForm&&(this.unsubscribe(),this.subscribe(t,this.notify)),this.props.name!==n&&this.bindMutators(t)},n.componentDidMount=function(){this.mounted=!0},n.componentWillUnmount=function(){this.mounted=!1,this.unsubscribe()},n.render=function(){var t,e,r,i,n,a=this.props,o=a.name,s=m(a,["name"]),c=this.state.state||{},u=c.length,l={active:c.active,dirty:c.dirty,dirtySinceLastSubmit:c.dirtySinceLastSubmit,error:c.error,initial:c.initial,invalid:c.invalid,pristine:c.pristine,submitError:c.submitError,submitFailed:c.submitFailed,submitSucceeded:c.submitSucceeded,touched:c.touched,valid:c.valid,visited:c.visited},f=d({},l,m(c,["length","active","dirty","dirtySinceLastSubmit","error","initial","invalid","pristine","submitError","submitFailed","submitSucceeded","touched","valid","visited"]));return t=d({fields:d({name:o,forEach:this.forEach,length:u,map:this.map},this.mutators,f),meta:l},s,{__versions:h}),e=t.render,r=t.children,i=t.component,n=m(t,["render","children","component"]),i?p.createElement(i,d({},n,{children:r})):e?e(d({},n,{children:r})):r(n)},i}(p.Component);a(n,"displayName","ReactFinalFormFieldArray("+s.version+")("+i+")"),e.polyfill(n);var o=r.withReactFinalForm(n);t.FieldArray=o,t.version=i,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=react-final-form-arrays.umd.min.js.map
